//
//  RoleViewController.swift
//  Animalia-ios
//
//  Created by Sebastian Soto Varas on 28/03/22.
//  Copyright (c) 2022 ___ORGANIZATIONNAME___. All rights reserved.
//
//  This file was generated by the üêç VIPER generator
//

import UIKit

final class RoleViewController: UIViewController {
    
    // MARK: - properties

    var presenter: RolePresenterInterface!
    private var groupSelected: String?
    private var idSelected: String?

    // MARK: - Outlets and Actions
    
    @IBOutlet weak var entity: CheckboxGroup!
    @IBOutlet weak var person: CheckboxGroup!
    
    @IBAction func tapEntity(_ sender: Any) {
        entity.actionSelected()
    }
    
    @IBAction func tapPerson(_ sender: Any) {
        person.actionSelected()
    }
    
    @IBAction func contiueButton(_ sender: Any) {
        print(groupSelected ?? "", idSelected ?? "")
    }
    
    // MARK: - Lifecycle's Methods

    override func viewDidLoad() {
        super.viewDidLoad()
        setupView()
    }
    
    // MARK: - Functions
    
    func setupView() {
        entity.delegate = self
        person.delegate = self
        entity.actionSelected()
    }
    
    func selectedGroup() {
        guard let group = self.groupSelected, let id = self.idSelected else { return }
        entity.selectStyleFor(group, id)
        person.selectStyleFor(group, id)
    }
}

// MARK: - Extensions

extension RoleViewController: RoleViewInterface {
}

extension RoleViewController: CustomCheckboxGroupDelegate {
    func selectCheckbox(_ group: String, _ id: String) {
        self.groupSelected = group
        self.idSelected = id
        self.selectedGroup()
    }
}
